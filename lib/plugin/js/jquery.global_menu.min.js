!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(u){"use strict";let d={};(d=function(){let n=0;return function(i,e){var t=this;t.$elem=u(i),t.settings=u.extend(!0,{submenu:{is_active:!1,accordion:{menu_width:{is_active:!1,min_width:220,max_width:350}}},scroll_fix:{is_active:!1,active_y:parseInt(u(i).offset().top+u(i).height()),view_out:!1}},e),t.submenu_class={accordion:{item:"gm_accordion",body:"gm_accordion_body"},mega:{item:"gm_mega",body:"gm_mega_body"}},t.instance_uid=n++,t.init_on_load(),t.global_menu()}}()).prototype.init_on_load=function(){this.$elem.addClass("is_preloaded"),this.settings.scroll_fix.is_active&&u(window).trigger("scroll")},d.prototype.global_menu=function(){var i=this;i.settings.submenu.is_active&&(i.manage_submenu(),i.settings.submenu.accordion.menu_width.is_active&&i.change_accordion_menu_width()),i.settings.scroll_fix.is_active&&(i.settings.scroll_fix.view_out.is_active?i.gm_position_fixed_view_out():i.gm_position_fixed())},d.prototype.manage_submenu=function(){var i=this;i.submenu_job[i.is_touch_display()?"click":"hover"].bind(i)(),i.submenu_job.close.bind(i)()},d.prototype.submenu_job={init:function(i){u(this.$elem).find(this.get_submenu()).each(function(){void 0!==i&&this==i||u(this).removeClass("is_show")})},click:function(){let e=this,t=!0;u(e.$elem).find(e.get_submenu()).on("click",function(i){i.preventDefault(),0!=t&&(t=!1,setTimeout(function(){t=!0},500),e.submenu_job.init.bind(e)(this),u(this).toggleClass("is_show"))})},hover:function(){let i=this;u(i.$elem).find(i.get_submenu()).on("mouseover",function(){i.submenu_job.init.bind(i)(this),u(this).addClass("is_show")})},close:function(){let i=this;u(i.$elem).on("mouseleave",function(){i.submenu_job.init.bind(i)()})}},d.prototype.change_accordion_menu_width=function(){let i=this,e=i.settings,t=(e.submenu.accordion,u(i.$elem).find(".gm_accordion_body li a"));u(i.$elem).find(".gm_accordion_body").each(function(){u(this).css("width",i.get_accordion_menu_width(u(this).children("li"),{font_size:t.css("font-size"),letter_spacing:t.css("letter-spacing"),padding_left:t.css("padding-right"),padding_right:t.css("padding-left")}))})},d.prototype.get_accordion_menu_width=function(i,t){let e=this.settings,n=e.submenu.accordion.menu_width.min_width,o=e.submenu.accordion.menu_width.max_width;return i.each(function(){var i=document.createElement("span"),e=(u(i).css({"font-size":t.font_size,"letter-spacing":t.letter_spacing,"padding-left":t.padding_left,"padding-right":t.padding_right,display:"none","white-space":"nowrap"}),u(i).append(u(this).text()),u("body").append(i),u(i).outerWidth());n<e&&(n=e),0<o&&o<e?n=o:u(i).remove()}),n},d.prototype.gm_position_fixed=function(){let i=this.settings,e=i.scroll_fix,t="is_fixed",n=u(this.$elem).find(".gm_inner");u(window).on("scroll",function(){e.active_y<u(window).scrollTop()?n.addClass(t):n.removeClass(t)})},d.prototype.gm_position_fixed_view_out=function(){let i=this.settings,e=i.scroll_fix,t="is_fixed",n=u(this.$elem).find(".gm_inner"),o="is_view_out",s=0,c;u(window).on("scroll",function(){e.active_y<u(window).scrollTop()?((c=u(this).scrollTop())<=s?(n.removeClass(o),n.addClass(t)):n.addClass(o),s=c):n.removeClass(t+" "+o)})},d.prototype.get_submenu=function(){this.settings;let t="",n=0;return u.each(this.submenu_class,function(i,e){1<=n&&(t+=", "),t+="."+e.item,n++}),t},d.prototype.is_touch_display=function(){return void 0!==window.ontouchstart&&0<navigator.maxTouchPoints},u.fn.global_menu=function(i){let e=this,t=i,n=Array.prototype.slice.call(arguments,1),o=e.length,s,c;for(s=0;s<o;s++)if("object"==typeof t||void 0===t)e[s].global_menu=new d(e[s],t);else if(void 0!==(c=e[s].global_menu[t].apply(e[s].global_menu,n)))return c;return e}});
//# sourceMappingURL=jquery.global_menu.min.js.map
