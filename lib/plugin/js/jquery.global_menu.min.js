!function(_){"use strict";let e;(e=function(i,t){this.$elem=i,this.settings=_.extend(!0,{submenu:{is_active:!1,accordion:{menu_width:{is_active:!1,min_width:220,max_width:350}}},scroll_fix:{is_active:!1,active_y:parseInt(_(i).offset().top+_(i).height()),view_out:!1}},t),this.submenu_class={accordion:{item:"gm_accordion",body:"gm_accordion_body"},mega:{item:"gm_mega",body:"gm_mega_body"}}}).prototype.init_on_load=function(){var i=this.settings;this.$elem.addClass("is_preloaded"),i.scroll_fix.is_active&&_(window).trigger("scroll")},e.prototype.global_menu=function(){var i=this,t=i.settings;i.init_on_load(),t.submenu.is_active&&(i.manage_submenu(),t.submenu.accordion.menu_width.is_active&&i.change_accordion_menu_width()),t.scroll_fix.is_active&&(t.scroll_fix.view_out.is_active?i.gm_position_fixed_view_out():i.gm_position_fixed())},e.prototype.manage_submenu=function(){var i=this;i.submenu_job[i.is_touch_display()?"click":"hover"](i),i.submenu_job.close(i)},e.prototype.submenu_job={init:function(i,t){let e=i;_(e.$elem).find(e.get_submenu()).each(function(){void 0!==t&&this==t||_(this).removeClass("is_show")})},click:function(i){let t=i,e=!0;_(t.$elem).find(t.get_submenu()).on("click",function(){0!=e&&(e=!1,setTimeout(function(){e=!0},500),t.submenu_job.init(t,this),_(this).toggleClass("is_show"))})},hover:function(i){let t=i;_(t.$elem).find(t.get_submenu()).on("mouseover",function(){t.submenu_job.init(t,this),_(this).addClass("is_show")})},close:function(i){let t=i;_(t.$elem).on("mouseleave",function(){t.submenu_job.init(t)})}},e.prototype.change_accordion_menu_width=function(){let i=this,t=i.settings,e=(t.submenu.accordion,_(i.$elem).find(".gm_accordion_body li a"));_(i.$elem).find(".gm_accordion_body").each(function(){_(this).css("width",i.get_accordion_menu_width(_(this).children("li"),{font_size:e.css("font-size"),letter_spacing:e.css("letter-spacing"),padding_left:e.css("padding-right"),padding_right:e.css("padding-left")}))})},e.prototype.get_accordion_menu_width=function(i,e){let t=this.settings,n=t.submenu.accordion.menu_width.min_width,o=t.submenu.accordion.menu_width.max_width;return i.each(function(){var i=document.createElement("span"),t=(_(i).css({"font-size":e.font_size,"letter-spacing":e.letter_spacing,"padding-left":e.padding_left,"padding-right":e.padding_right,display:"none","white-space":"nowrap"}),_(i).append(_(this).text()),_("body").append(i),_(i).outerWidth());n<t&&(n=t),0<o&&o<t?n=o:_(i).remove()}),n},e.prototype.gm_position_fixed=function(){let i=this.settings,t=i.scroll_fix,e="is_fixed",n=_(this.$elem).find(".gm_inner");_(window).on("scroll",function(){t.active_y<_(window).scrollTop()?n.addClass(e):n.removeClass(e)})},e.prototype.gm_position_fixed_view_out=function(){let i=this.settings,t=i.scroll_fix,e="is_fixed",n=_(this.$elem).find(".gm_inner"),o="is_view_out",s=0,c;_(window).on("scroll",function(){t.active_y<_(window).scrollTop()?((c=_(this).scrollTop())<=s?(n.removeClass(o),n.addClass(e)):n.addClass(o),s=c):n.removeClass(e+" "+o)})},e.prototype.get_submenu=function(){this.settings;let e="",n=0;return _.each(this.submenu_class,function(i,t){1<=n&&(e+=", "),e+="."+t.item,n++}),e},e.prototype.is_touch_display=function(){return void 0!==window.ontouchstart&&0<navigator.maxTouchPoints},_.fn.global_menu=function(i){let t=new e(this,i);return t.global_menu(),this}}(jQuery);
//# sourceMappingURL=jquery.global_menu.min.js.map
