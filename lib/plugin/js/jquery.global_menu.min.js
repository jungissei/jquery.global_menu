!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(s){"use strict";let _={};(_=function(){let n=0;return function(e,i){var t=this;t.$elem=s(e),t.settings=s.extend(!0,{submenu:{is_active:!1,accordion:{menu_width:{is_active:!1,min_width:220,max_width:350}}},scroll_fix:{is_active:!1}},i),t.submenu_class={accordion:{item:"gm_accordion",body:"gm_accordion_body"},mega:{item:"gm_mega",body:"gm_mega_body"}},t.instance_uid=n++,t.fixed_active_position,t.init_on_load(),t.global_menu()}}()).prototype.init_on_load=function(){this.$elem.addClass("is_preloaded"),this.settings.scroll_fix.is_active&&s(window).trigger("scroll")},_.prototype.global_menu=function(){var e=this;e.settings.submenu.is_active&&(e.manage_submenu(),e.settings.submenu.accordion.menu_width.is_active&&e.change_accordion_menu_width()),e.settings.scroll_fix.is_active&&e.gm_position_fixed_show_hide()},_.prototype.manage_submenu=function(){var e=this;e.submenu_job[e.is_touch_display()?"click":"hover"].bind(e)(),e.submenu_job.close.bind(e)()},_.prototype.submenu_job={init:function(e){s(this.$elem).find(this.get_submenu()).each(function(){void 0!==e&&this==e||s(this).removeClass("is_show")})},click:function(){let i=this,t=!0;s(i.$elem).find(i.get_submenu()).on("click",function(e){e.preventDefault(),0!=t&&(t=!1,setTimeout(function(){t=!0},500),i.submenu_job.init.bind(i)(this),s(this).toggleClass("is_show"))})},hover:function(){let e=this;s(e.$elem).find(e.get_submenu()).on("mouseover",function(){e.submenu_job.init.bind(e)(this),s(this).addClass("is_show")})},close:function(){let e=this;s(e.$elem).on("mouseleave",function(){e.submenu_job.init.bind(e)()})}},_.prototype.change_accordion_menu_width=function(){let e=this,i=e.settings,t=(i.submenu.accordion,s(e.$elem).find(".gm_accordion_body li a"));s(e.$elem).find(".gm_accordion_body").each(function(){s(this).css("width",e.get_accordion_menu_width(s(this).children("li"),{font_size:t.css("font-size"),letter_spacing:t.css("letter-spacing"),padding_left:t.css("padding-right"),padding_right:t.css("padding-left")}))})},_.prototype.get_accordion_menu_width=function(e,t){let i=this.settings,n=i.submenu.accordion.menu_width.min_width,o=i.submenu.accordion.menu_width.max_width;return e.each(function(){var e=document.createElement("span"),i=(s(e).css({"font-size":t.font_size,"letter-spacing":t.letter_spacing,"padding-left":t.padding_left,"padding-right":t.padding_right,display:"none","white-space":"nowrap"}),s(e).append(s(this).text()),s("body").append(e),s(e).outerWidth());n<i&&(n=i),0<o&&o<i?n=o:s(e).remove()}),n},_.prototype.gm_position_fixed_show_hide=function(){let e=this,i,t=s(window).scrollTop();e.fixed_active_position=parseInt(e.$elem.offset().top+e.$elem.height()),s(window).on("scroll",function(){i=s(this).scrollTop(),e.gm_scroll_fixed_show_hide_jobs[e.fixed_active_position<i?"fixed":"unfixed"].bind(e)(),e.fixed_active_position<i&&t!==i&&e.gm_scroll_fixed_show_hide_jobs[t<i?"hide":"show"].bind(e)(),t=i})},_.prototype.gm_scroll_fixed_show_hide_jobs={unfixed:function(){var e=this;e.fixed_active_position=parseInt(e.$elem.offset().top+e.$elem.height()),e.$elem.find(".gm_inner").removeClass("is_fixed is_scroll_hide is_scroll_show").css({transition:"","margin-top":""}),e.$elem.css({height:""}),e.$elem.trigger("global_menu_unfixed")},fixed:function(){var e=this;e.fixed_active_position=parseInt(e.$elem.offset().top),e.$elem.css("height",e.$elem.height()),e.$elem.find(".gm_inner").addClass("is_fixed"),e.$elem.trigger("global_menu_fixed")},show:function(){this.$elem.find(".gm_inner").removeClass("is_scroll_hide").addClass("is_scroll_show").css({transition:"margin-top 0.2s","margin-top":0}),this.$elem.trigger("global_menu_scroll_show")},hide:function(){let e=this.$elem.find(".gm_inner");e.removeClass("is_scroll_show").addClass("is_scroll_hide").css("margin-top",-e.outerHeight()),this.$elem.trigger("global_menu_scroll_hide")}},_.prototype.get_submenu=function(){let t="",n=0;return s.each(this.submenu_class,function(e,i){1<=n&&(t+=", "),t+="."+i.item,n++}),t},_.prototype.is_touch_display=function(){return void 0!==window.ontouchstart&&0<navigator.maxTouchPoints},s.fn.global_menu=function(){let e=this,i=arguments[0],t=Array.prototype.slice.call(arguments,1),n=e.length,o,s;for(o=0;o<n;o++)if("object"==typeof i||void 0===i)e[o].global_menu=new _(e[o],i);else if(void 0!==(s=e[o].global_menu[i].apply(e[o].global_menu,t)))return s;return e}});
//# sourceMappingURL=jquery.global_menu.min.js.map
