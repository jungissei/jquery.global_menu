!function(i){"use strict";"function"==typeof define&&define.amd?define(["jquery"],i):"undefined"!=typeof exports?module.exports=i(require("jquery")):i(jQuery)}(function(s){"use strict";let c={};(c=function(){let n=0;return function(i,e){var t=this;t.$elem=s(i),t.settings=s.extend(!0,{submenu:{is_active:!1,accordion:{menu_width:{is_active:!1,min_width:220,max_width:350}}},scroll_fix:{is_active:!1}},e),t.submenu_class={accordion:{item:"gm_accordion",body:"gm_accordion_body"},mega:{item:"gm_mega",body:"gm_mega_body"}},t.instance_uid=n++,t.fixed_active_position,t.init_on_load(),t.global_menu()}}()).prototype.init_on_load=function(){this.$elem.addClass("is_preloaded"),this.settings.scroll_fix.is_active&&s(window).trigger("scroll")},c.prototype.global_menu=function(){var i=this;i.settings.submenu.is_active&&(i.manage_submenu(),i.settings.submenu.accordion.menu_width.is_active&&i.change_accordion_menu_width()),i.settings.scroll_fix.is_active&&i.gm_position_fixed()},c.prototype.manage_submenu=function(){var i=this;i.submenu_job[i.is_touch_display()?"click":"hover"].bind(i)(),i.submenu_job.close.bind(i)()},c.prototype.submenu_job={init:function(i){s(this.$elem).find(this.get_submenu()).each(function(){void 0!==i&&this==i||s(this).removeClass("is_show")})},click:function(){let e=this,t=!0;s(e.$elem).find(e.get_submenu()).on("click",function(i){i.preventDefault(),0!=t&&(t=!1,setTimeout(function(){t=!0},500),e.submenu_job.init.bind(e)(this),s(this).toggleClass("is_show"))})},hover:function(){let i=this;s(i.$elem).find(i.get_submenu()).on("mouseover",function(){i.submenu_job.init.bind(i)(this),s(this).addClass("is_show")})},close:function(){let i=this;s(i.$elem).on("mouseleave",function(){i.submenu_job.init.bind(i)()})}},c.prototype.change_accordion_menu_width=function(){let i=this,e=i.settings,t=(e.submenu.accordion,s(i.$elem).find(".gm_accordion_body li a"));s(i.$elem).find(".gm_accordion_body").each(function(){s(this).css("width",i.get_accordion_menu_width(s(this).children("li"),{font_size:t.css("font-size"),letter_spacing:t.css("letter-spacing"),padding_left:t.css("padding-right"),padding_right:t.css("padding-left")}))})},c.prototype.get_accordion_menu_width=function(i,t){let e=this.settings,n=e.submenu.accordion.menu_width.min_width,o=e.submenu.accordion.menu_width.max_width;return i.each(function(){var i=document.createElement("span"),e=(s(i).css({"font-size":t.font_size,"letter-spacing":t.letter_spacing,"padding-left":t.padding_left,"padding-right":t.padding_right,display:"none","white-space":"nowrap"}),s(i).append(s(this).text()),s("body").append(i),s(i).outerWidth());n<e&&(n=e),0<o&&o<e?n=o:s(i).remove()}),n},c.prototype.gm_position_fixed=function(){let i=this,e,t=s(window).scrollTop();i.fixed_active_position=parseInt(i.$elem.offset().top+i.$elem.height()),s(window).on("scroll",function(){e=s(this).scrollTop(),i.gm_scroll_jobs[i.fixed_active_position<e?"fixed":"unfixed"].bind(i)(),i.fixed_active_position<e&&t!==e&&i.gm_scroll_jobs[t<e?"down":"up"].bind(i)(),t=e})},c.prototype.gm_scroll_jobs={unfixed:function(){var i=this;i.fixed_active_position=parseInt(i.$elem.offset().top+i.$elem.height()),i.$elem.find(".gm_inner").removeClass("is_fixed is_scroll_down is_scroll_up"),i.$elem.css("height","")},fixed:function(){var i=this;i.fixed_active_position=parseInt(i.$elem.offset().top),i.$elem.css("height",i.$elem.height()),i.$elem.find(".gm_inner").addClass("is_fixed")},up:function(){this.$elem.find(".gm_inner").removeClass("is_scroll_down").addClass("is_scroll_up")},down:function(){this.$elem.find(".gm_inner").removeClass("is_scroll_up").addClass("is_scroll_down")}},c.prototype.get_submenu=function(){let t="",n=0;return s.each(this.submenu_class,function(i,e){1<=n&&(t+=", "),t+="."+e.item,n++}),t},c.prototype.is_touch_display=function(){return void 0!==window.ontouchstart&&0<navigator.maxTouchPoints},s.fn.global_menu=function(){let i=this,e=arguments[0],t=Array.prototype.slice.call(arguments,1),n=i.length,o,s;for(o=0;o<n;o++)if("object"==typeof e||void 0===e)i[o].global_menu=new c(i[o],e);else if(void 0!==(s=i[o].global_menu[e].apply(i[o].global_menu,t)))return s;return i}});
//# sourceMappingURL=jquery.global_menu.min.js.map
